(this["webpackJsonpintersection-observer"]=this["webpackJsonpintersection-observer"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(6),s=n.n(c),a=n(8),i=n(2),u=n.n(i),o=n(4),j=n(3),b=(n(14),n(0));function l(e){var t=e.character;return Object(b.jsxs)("li",{className:"character",children:[Object(b.jsx)("img",{src:t.image,alt:t.name}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:t.name}),Object(b.jsxs)("ul",{className:"character__info",children:[Object(b.jsxs)("li",{children:["Gender: ",t.gender]}),Object(b.jsxs)("li",{children:["Species: ",t.species]}),Object(b.jsxs)("li",{children:["Origin: ",t.origin.name]}),Object(b.jsxs)("li",{children:["Location: ",t.location.name]})]})]})]},t.id)}function f(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(u.a.mark((function e(t){var n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,e.next=3,fetch("https://rickandmortyapi.com/api/character?page=".concat(n));case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,s=c.results,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(7);n(16);var O=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(1),i=Object(j.a)(s,2),h=i[0],O=i[1],d=Object(r.useRef)(null),v=function(e){var t=e.visorRef,n=Object(r.useState)(!1),c=Object(j.a)(n,2),s=c[0],a=c[1];return Object(r.useEffect)((function(){var e=t.current,n=new IntersectionObserver((function(e){var t=Object(j.a)(e,1)[0];a(t.isIntersecting)}),{root:null,rootMargin:"0px",threshold:1});return e&&n.observe(e),function(){e&&n.disconnect()}}),[t]),{visible:s}}({visorRef:d}),x=v.visible,m=Object(r.useCallback)((function(){return Object(p.a)(O((function(e){return e+1})),100)}),[]);Object(r.useEffect)((function(){x&&m()}),[x,m]);var g=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,e.next=3,f({page:n});case 3:r=e.sent,c((function(e){return e.concat(r)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g({page:h})}),[h]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)("h1",{children:"Prueba de intersection observer"})}),Object(b.jsx)("ul",{className:"character__list",children:null===n||void 0===n?void 0:n.map((function(e){return Object(b.jsx)(l,{character:Object(a.a)({},e)},e.id)}))}),Object(b.jsx)("div",{className:"visor",ref:d})]})};n(17);s.a.render(Object(b.jsx)(O,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.003add5a.chunk.js.map